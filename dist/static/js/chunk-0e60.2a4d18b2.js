(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0e60"],{Tfi7:function(e,t,a){"use strict";a.r(t);var l=a("rY9o"),r=a("XJYT"),n=(a("g/aR"),{data:function(){return{clearable:!1,editable:!1,listLoading:!0,list:[],value:Date.now(),pagesize:10,currpage:1}},created:function(){this.fetchData()},methods:{fetchData:function(e){var t=this,a={};this.listLoading=!0,e&&(a.time=e),Object(l.b)(a).then(function(e){t.listLoading=!1,e.status?t.list=e.data:(t.list="",Object(r.Message)({message:e.message,type:"error",duration:1e3}))})},formatDateTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var l=e.getDate();return t+"-"+a+"-"+(l=l<10?"0"+l:l)},changeDate:function(e){if(this.$data.currpage=1,this.formatDateTime(new Date)!==this.formatDateTime(new Date(e))){var t=this.formatDateTime(new Date(e));this.fetchData(t)}else this.fetchData()},handleCurrentChange:function(e){window.scroll(0,0),this.currpage=e},handleSizeChange:function(e){this.pagesize=e}}}),i=a("KHd+"),s=Object(i.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-date-picker",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"date",placeholder:"选择日期",clearable:e.clearable,editable:e.editable},on:{change:e.changeDate},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list.slice((e.currpage-1)*e.pagesize,e.currpage*e.pagesize),border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"90",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"startTime",label:"startTime",width:"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"data[0].request-client-ip",label:"ip",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data[0].request-method",label:"method"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data[0].request-originalUrl",label:"originalUrl",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data[0].request-query",label:"query"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data[0].response-status",label:"status",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data[0].response-time",label:"time(ms)",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data[0].user-agent",label:"agent",width:"400"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level.levelStr",label:"level",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"INFO"==t.row.level.levelStr?"success":"danger"}},[e._v(e._s(t.row.level.levelStr))])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page_boxs",staticStyle:{float:"right",margin:"20px 0"},attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[5,10,15,20],"page-size":e.pagesize,total:e.list.length,"current-page":e.currpage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)},[],!1,null,null,null);s.options.__file="index.vue";t.default=s.exports},"g/aR":function(e,t,a){},rY9o:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"a",function(){return n});var l=a("t3Un");function r(e){return Object(l.a)({url:"api/getReslog",method:"get",params:e})}function n(e){return Object(l.a)({url:"api/getErrorlog",method:"get",params:e})}}}]);